{"data":{"markdownRemark":{"html":"<h2>Contents</h2>\n<ol>\n<li><a href=\"#hrefs-ex-1-about\">Why would I need this?</a></li>\n<li><a href=\"#hrefs-ex-1-work\">How does it work?</a></li>\n<li><a href=\"#hrefs-ex-1-issues\">Are there any issues?</a></li>\n<li><a href=\"#hrefs-ex-1-run\">How do I run the demo?</a></li>\n</ol>\n<span id=\"hrefs-ex-1-about\" />\n<h2>Why would I need this?</h2>\n<p>Traditionally, web links are created by using the <strong>&#x3C;a></strong> element and\nassigning a location through <strong>href</strong>. In shiny, you would do something\nlike this:</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\"><span class=\"token comment\"># using tags</span>\ntags<span class=\"token operator\">$</span>a<span class=\"token punctuation\">(</span>href<span class=\"token operator\">=</span><span class=\"token string\">\"target_page\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"Go to target page\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>However, this approach will not work as every time a shiny app is\nlaunched, the values for the href attribute in the <strong>&#x3C;a></strong> element(s)\nare regenerated. This makes traditional hyperlink calls (as displayed\nabove) impossible. One way is to work with <a href=\"https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes\">data\nattributes</a>.</p>\n<p>In this example, I'll be using the page layout <strong>navbarPage</strong> and\n<strong>tabPanel</strong>. Let's take a look at <strong>tabPanel</strong>. As written on the\nshiny reference page for\n<a href=\"https://shiny.rstudio.com/reference/shiny/latest/tabPanel.html\">tabPanel</a>,\n<strong>tabPanel</strong> has the following arguments.</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\"><span class=\"token comment\"># tabPanel function</span>\ntabPanel<span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">,</span> <span class=\"token ellipsis\">...</span><span class=\"token punctuation\">,</span> value<span class=\"token operator\">=</span>title<span class=\"token punctuation\">,</span> icon<span class=\"token operator\">=</span><span class=\"token keyword\">NULL</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>The argument <strong>title</strong> receives the name of the tab. By default, the\nargument <strong>value</strong> is assigned the value given to <strong>title</strong>. Using a\nlittle bit of javascript, we can create a custom function that receives\na user-defined destination and searches the information in <strong>value</strong> in\norder to find the tab with the matching destination.</p>\n<p>It's important to note that even though <strong>value</strong> receives the values\nfrom <strong>title</strong> by default, it is good practice to assign shorter names\nto <strong>value</strong> to avoid matching errors. For example:</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\"><span class=\"token comment\"># tabPanel function</span>\ntabPanel<span class=\"token punctuation\">(</span>title<span class=\"token operator\">=</span><span class=\"token string\">\"My super duper cool home page\"</span><span class=\"token punctuation\">,</span> value<span class=\"token operator\">=</span><span class=\"token string\">\"home\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>When shiny apps are launched, <strong>value</strong> is assigned the attribute\n<strong>data-value</strong>. Using a little bit of javascript, we can use\n<strong>data-value</strong> instead of <strong>href</strong>.</p>\n<span id=\"hrefs-ex-1-work\" />\n<h2>How does the app work?</h2>\n<h3>Create Javascript function</h3>\n<p>The following function loops through all the values in the data-value to\nlook for the desired tab (adapted code from this <a href=\"https://stackoverflow.com/questions/36412407/shiny-add-link-to-another-tabpanel-in-another-tabpanel\">SO\nquestion</a>).\nWhen a match is found, simulate a mouse click using <strong>click</strong> (this will\nadvance the screen to the desired tab).</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"># js file\n<span class=\"token keyword\">var</span> <span class=\"token function-variable function\">customHref</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>tabName<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">var</span> dropdownList <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementsByTagName</span><span class=\"token punctuation\">(</span> <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"value\"</span><span class=\"token operator\">></span><span class=\"token string\">\"a\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> dropdownList<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">var</span> link <span class=\"token operator\">=</span> dropdownList<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>link<span class=\"token punctuation\">.</span><span class=\"token function\">getAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"data-value\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> tabName<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        link<span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Using the home page we defined earlier, the custom link would look like\nthis:</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\"><span class=\"token comment\"># using tags with js function</span>\ntags<span class=\"token operator\">$</span>a<span class=\"token punctuation\">(</span><span class=\"token string\">\"onclick\"</span><span class=\"token operator\">=</span><span class=\"token string\">\"customHref('home')\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"Go to home page\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>What this is saying is: 1) find me all elements with <strong>data-values</strong> and\nreturn the values, 2) using the destination I defined, find a match in\nthose values, and 3) when a match is found, move to that tab.</p>\n<h3>Setup ui.R (or app.R) file</h3>\n<p>You can either place this at the top of the UI or store in a separate\nfile and load using <strong>includeScript</strong> or <strong>tags$script</strong>. In this\nexample, I placed the function in a separate file and reading it in\nusing <strong>tags$script(src=...)</strong>.</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\"><span class=\"token comment\"># ui.R or app.R</span>\nui <span class=\"token operator\">&lt;-</span> tagList<span class=\"token punctuation\">(</span>\n        <span class=\"token comment\"># head</span>\n        tags<span class=\"token operator\">$</span>head<span class=\"token punctuation\">(</span>\n                tags<span class=\"token operator\">$</span>script<span class=\"token punctuation\">(</span>src<span class=\"token operator\">=</span><span class=\"token string\">\"func.js\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\n        <span class=\"token comment\"># ui</span>\n        navbarPage<span class=\"token punctuation\">(</span>\n                <span class=\"token ellipsis\">...</span>\n        <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<h3>Create tabPanels and assign each one a unique value</h3>\n<p>Next, set up your tabs and give a unique name to the argument <strong>value</strong>.</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\"><span class=\"token comment\"># ui.R/app.R</span>\nui <span class=\"token operator\">&lt;-</span> tagList<span class=\"token punctuation\">(</span>\n        <span class=\"token comment\"># head</span>\n        tags<span class=\"token operator\">$</span>head<span class=\"token punctuation\">(</span>\n                tags<span class=\"token operator\">$</span>script<span class=\"token punctuation\">(</span>src<span class=\"token operator\">=</span><span class=\"token string\">\"func.js\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\n        <span class=\"token comment\"># ui</span>\n        navbarPage<span class=\"token punctuation\">(</span>\n                tabPanel<span class=\"token punctuation\">(</span><span class=\"token string\">\"tab 1\"</span><span class=\"token punctuation\">,</span> value<span class=\"token operator\">=</span><span class=\"token string\">\"tab1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                tabPanel<span class=\"token punctuation\">(</span><span class=\"token string\">\"tab 2\"</span><span class=\"token punctuation\">,</span> value<span class=\"token operator\">=</span><span class=\"token string\">\"tab2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                tabPanel<span class=\"token punctuation\">(</span><span class=\"token string\">\"tab 3\"</span><span class=\"token punctuation\">,</span> value<span class=\"token operator\">=</span><span class=\"token string\">\"tab3\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>   </code></pre></div>\n<h3>Define the links</h3>\n<p>In one or all the panels, make a custom link using <strong>tags$a()</strong>. We\nwill also setup a blank shiny server.</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\"><span class=\"token comment\"># ui.R/app.R</span>\nui <span class=\"token operator\">&lt;-</span> tagList<span class=\"token punctuation\">(</span>\n        <span class=\"token comment\"># head</span>\n        tags<span class=\"token operator\">$</span>head<span class=\"token punctuation\">(</span>\n                tags<span class=\"token operator\">$</span>script<span class=\"token punctuation\">(</span>src<span class=\"token operator\">=</span><span class=\"token string\">\"func.js\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\n        <span class=\"token comment\"># ui</span>\n        navbarPage<span class=\"token punctuation\">(</span>\n                tabPanel<span class=\"token punctuation\">(</span><span class=\"token string\">\"tab 1\"</span><span class=\"token punctuation\">,</span> value<span class=\"token operator\">=</span><span class=\"token string\">\"tab1\"</span><span class=\"token punctuation\">,</span>\n                        tags<span class=\"token operator\">$</span>h1<span class=\"token punctuation\">(</span><span class=\"token string\">\"Some Title\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                        tags<span class=\"token operator\">$</span>a<span class=\"token punctuation\">(</span><span class=\"token string\">\"onclick\"</span><span class=\"token operator\">=</span><span class=\"token string\">\"customHref('tab2')\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"Go to the second tab\"</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                tabPanel<span class=\"token punctuation\">(</span><span class=\"token string\">\"tab 2\"</span><span class=\"token punctuation\">,</span> value<span class=\"token operator\">=</span><span class=\"token string\">\"tab2\"</span><span class=\"token punctuation\">,</span>\n                    tags<span class=\"token operator\">$</span>h1<span class=\"token punctuation\">(</span><span class=\"token string\">\"Some Title\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                    tags<span class=\"token operator\">$</span>a<span class=\"token punctuation\">(</span><span class=\"token string\">\"onclick\"</span><span class=\"token operator\">=</span><span class=\"token string\">\"customHref('tab3')\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"Go to the third tab\"</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                tabPanel<span class=\"token punctuation\">(</span><span class=\"token string\">\"tab 3\"</span><span class=\"token punctuation\">,</span> value<span class=\"token operator\">=</span><span class=\"token string\">\"tab3\"</span><span class=\"token punctuation\">,</span>\n                        tags<span class=\"token operator\">$</span>h1<span class=\"token punctuation\">(</span><span class=\"token string\">\"Some Title\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                        tags<span class=\"token operator\">$</span>a<span class=\"token punctuation\">(</span><span class=\"token string\">\"onclick\"</span><span class=\"token operator\">=</span><span class=\"token string\">\"customHref('tab1')\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"Go to the first tab\"</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># server</span>\nserver <span class=\"token operator\">&lt;-</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">,</span>output<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>Now our app is ready to go. Launch the app and click on the links we\nsetup.</p>\n<h2>Are there any issues?</h2>\n<p>Yes. If using bootstrap layouts, this does cause the navigation bar to\nremain open on smaller devices after a link is clicked. To my knowledge,\nthere isn't a solution for this for shiny users.</p>\n<h2>How can I run this app?</h2>\n<p>The source code is available on\n<a href=\"https://github.com/davidruvolo51/shinyAppTutorials/tree/master/Internal-Links-Basic-Ex\">github</a>{.eLinks}.\nAlternatively, you can run the demo in R using the following code.</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\"><span class=\"token comment\"># Run in R/Rstudio</span>\ninstall.packages<span class=\"token punctuation\">(</span><span class=\"token string\">\"shiny\"</span><span class=\"token punctuation\">)</span>\nshiny<span class=\"token operator\">::</span>runGitHub<span class=\"token punctuation\">(</span>repo<span class=\"token operator\">=</span><span class=\"token string\">\"shinyAppTutorials\"</span><span class=\"token punctuation\">,</span>username<span class=\"token operator\">=</span><span class=\"token string\">\"davidruvolo51\"</span><span class=\"token punctuation\">,</span>subdir<span class=\"token operator\">=</span><span class=\"token string\">\"Internal-Links-Basic-Ex\"</span><span class=\"token punctuation\">)</span></code></pre></div>","frontmatter":{"title":"Linking Tabs - Part 1","subtitle":"Creating Links to Other Pages in a Shiny App","excerpt":"Creating links to other pages in your shiny app can be challenging as ids are overwritten each time a shiny app launches. Instead, we will learn how to create new links using javascript.","date":"2018-03-01","keywords":["javascript"]}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/internal-links-a/"}}
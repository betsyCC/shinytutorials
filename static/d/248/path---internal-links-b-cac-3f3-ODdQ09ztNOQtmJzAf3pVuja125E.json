{"data":{"markdownRemark":{"html":"<h2>Contents</h2>\n<ol>\n<li><a href=\"#about\">Why would I need this?</a></li>\n<li><a href=\"#work\">How does this app work?</a></li>\n<li><a href=\"#run\">How do I run the demo?</a></li>\n<li><a href=\"#next\">What's next?</a></li>\n</ol>\n<span id=\"about\" />\n<h2>Why would I need this?</h2>\n<p>In the <a href=\"../internal-links-a/\">part 1</a>, we learned about setting up\n<code>tabPanels</code> and building hyperlinks manually using a <code>javascript</code>\nfunction. This is great, but is there anything else we can do with these\nlinks? What about putting in a leaflet map?</p>\n<p>In this tutorial, we will learn how to create links from a leaflet popup\nbox to a <code>tabPanel</code>. In this example, I created a mini-tourism app of\nNYC where each point of interest (Central Park Zoo, Guggenheim Museum,\nand the Natural History Museum) has it's own page.</p>\n<span id=\"work\" />\n<h2>How does the app work?</h2>\n<p>This demo was built to address this (link tbd) forum post.</p>\n<h3>Define the tabPanels</h3>\n<p>First, let's create the app.R file. We will define the ui and then\nthe server. We will create four pages (tabPanel) in our ui - a\nhome page and page for each point of interest. We will place the leaflet\nmap on the home page as it will serve as navigation for our app.</p>\n<pre><code class=\"language-r\"># ui\nui &#x3C;- tagList(\n        # head\n        tags$head(\n                tags$script(src=\"func.js\")\n        ),\n\n        # body\n        navbarPage(\n                tabPanel(Home, value=\"home\", leafletOutput(\"map\")),\n                tabPanel(\"Central Park Zoo\", value=\"zoo\"),\n                tabPanel(\"Guggenheim Museum\", value=\"guggenheim\"),\n                tabPanel(\"Natural History Museum\", value=\"history\")\n        )\n)\n\n# server\nserver &#x3C;- function(input,output){}\n</code></pre>\n<h3>Create a dataset</h3>\n<p>Next, we will build dataset that will be used to plot points on a\nleaflet map. Let's pick a handful of places and pull their coordinates\nfrom google maps (straight from the url). We will also create a column\nhrefValue, which contains the names that will be sent to the\nvalue argument and used in the customHref function.</p>\n<pre><code class=\"language-r\"># build data\nmapDF &#x3C;- data.frame(\n        location=c(\"Central Park Zoo\", \"Guggenheim Museum\", \"Natural History Museum\"),\n        lat=c(40.76780, 40.78292, 40.78133),\n        lng=c(-73.97191,-73.95907, -73.97413),\n        hrefValue=c(\"zoo\",\"guggenheim\",\"history\"),\n        stringsAsFactors=FALSE\n)\n</code></pre>\n<h3>Build the map and create marker popups</h3>\n<p>Let's build the leaflet map. The links to other tabs will go into a\nleaflet popup. For the popup argument in addMarkers(), you\nwill need to wrap the target value in paste0(). Leaflet will render\nthis as a url. In the server, our leaflet map would look like this:</p>\n<pre><code class=\"language-r\"># server\nserver &#x3C;- function(input,output){\n        # build map\n        output$map &#x3C;- renderLeaflet({\n                leaflet(data = mapDF) %>%\n                        setView(lat= 40.7752739, lng= -73.9688518, zoom= 14) %>%\n                        addTiles() %>%\n                        addMarkers(lng = ~lng, \n                        lat = ~lat,\n                        popup = paste0(\"Learn more about the \", \"&#x3C;a onclick=\", \"customHref('\", mapDF$hrefValue,\"')>\", mapDF$location, \"&#x3C;/a>\"))\n        })\n}\n</code></pre>\n<p>Now our app is ready to go. Launch the app and click on the links we\nsetup.</p>\n<span id=\"run\" />\n<h2>How can I run this app?</h2>\n<p>The source code is available on\n<a href=\"https://github.com/davidruvolo51/shinyAppTutorials/tree/master/Internal-Links\">github</a>.\nAlternatively, you can run the demo in R using the following code.</p>\n<pre><code class=\"language-r\"># Run in R/Rstudio\ninstall.packages(\"shiny\")\nshiny::runGitHub(repo=\"shinyAppTutorials\",username=\"davidruvolo51\",subdir=\"Internal-Links\")\n</code></pre>\n<span id=\"next\" />\n<h2>What's next?</h2>\n<p>Checkout <a href=\"../internal-links-c/\">part 3</a> of this series. In the next tutorial, we will bring everything from <a href=\"../internal-links-a\">part 1</a> and <a href=\"../internal-links-b\">part 2</a> and build a demo shiny app that creates links to specific tabs on other shiny pages.</p>","frontmatter":{"title":"Linking Tabs - Part 2","subtitle":"Creating links to other pages within a leaflet map popup","abstract":"Now that I created custom links, what can I do with them? How about adding them in a leaflet popup?","date":"2018-08-01","keywords":["javascript","leaflet"]}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/internal-links-b/"}}
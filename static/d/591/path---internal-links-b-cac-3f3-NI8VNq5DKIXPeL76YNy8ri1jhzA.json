{"data":{"markdownRemark":{"html":"<h2>Contents</h2>\n<ol>\n<li><a href=\"#about\">Why would I need this?</a></li>\n<li><a href=\"#work\">How does this app work?</a></li>\n<li><a href=\"#run\">How do I run the demo?</a></li>\n</ol>\n<span id=\"about\" />\n<h2>Why would I need this?</h2>\n<p>In the <a href=\"../internal-links-a/\">part 1</a>, we learned about setting up\n<code>tabPanels</code> and building hyperlinks manually using a <code>javascript</code>\nfunction. This is great, but is there anything else we can do with these\nlinks? What about putting in a leaflet map?</p>\n<p>In this tutorial, we will learn how to create links from a leaflet popup\nbox to a <code>tabPanel</code>. In this example, I created a mini-tourism app of\nNYC where each point of interest (Central Park Zoo, Guggenheim Museum,\nand the Natural History Museum) has it's own page.</p>\n<span id=\"work\" />\n<h2>How does the app work?</h2>\n<p>This demo was built to address this (link tbd) forum post.</p>\n<h3>Define the tabPanels</h3>\n<p>First, let's create the app.R file. We will define the ui and then\nthe server. We will create four pages (tabPanel) in our ui - a\nhome page and page for each point of interest. We will place the leaflet\nmap on the home page as it will serve as navigation for our app.</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\"><span class=\"token comment\"># ui</span>\nui <span class=\"token operator\">&lt;-</span> tagList<span class=\"token punctuation\">(</span>\n        <span class=\"token comment\"># head</span>\n        tags<span class=\"token operator\">$</span>head<span class=\"token punctuation\">(</span>\n                tags<span class=\"token operator\">$</span>script<span class=\"token punctuation\">(</span>src<span class=\"token operator\">=</span><span class=\"token string\">\"func.js\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\n        <span class=\"token comment\"># body</span>\n        navbarPage<span class=\"token punctuation\">(</span>\n                tabPanel<span class=\"token punctuation\">(</span>Home<span class=\"token punctuation\">,</span> value<span class=\"token operator\">=</span><span class=\"token string\">\"home\"</span><span class=\"token punctuation\">,</span> leafletOutput<span class=\"token punctuation\">(</span><span class=\"token string\">\"map\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                tabPanel<span class=\"token punctuation\">(</span><span class=\"token string\">\"Central Park Zoo\"</span><span class=\"token punctuation\">,</span> value<span class=\"token operator\">=</span><span class=\"token string\">\"zoo\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                tabPanel<span class=\"token punctuation\">(</span><span class=\"token string\">\"Guggenheim Museum\"</span><span class=\"token punctuation\">,</span> value<span class=\"token operator\">=</span><span class=\"token string\">\"guggenheim\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                tabPanel<span class=\"token punctuation\">(</span><span class=\"token string\">\"Natural History Museum\"</span><span class=\"token punctuation\">,</span> value<span class=\"token operator\">=</span><span class=\"token string\">\"history\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># server</span>\nserver <span class=\"token operator\">&lt;-</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">,</span>output<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<h3>Create a dataset</h3>\n<p>Next, we will build dataset that will be used to plot points on a\nleaflet map. Let's pick a handful of places and pull their coordinates\nfrom google maps (straight from the url). We will also create a column\nhrefValue, which contains the names that will be sent to the\nvalue argument and used in the customHref function.</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\"><span class=\"token comment\"># build data</span>\nmapDF <span class=\"token operator\">&lt;-</span> data.frame<span class=\"token punctuation\">(</span>\n        location<span class=\"token operator\">=</span>c<span class=\"token punctuation\">(</span><span class=\"token string\">\"Central Park Zoo\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Guggenheim Museum\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Natural History Museum\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        lat<span class=\"token operator\">=</span>c<span class=\"token punctuation\">(</span><span class=\"token number\">40.76780</span><span class=\"token punctuation\">,</span> <span class=\"token number\">40.78292</span><span class=\"token punctuation\">,</span> <span class=\"token number\">40.78133</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        lng<span class=\"token operator\">=</span>c<span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">73.97191</span><span class=\"token punctuation\">,</span><span class=\"token operator\">-</span><span class=\"token number\">73.95907</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">73.97413</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        hrefValue<span class=\"token operator\">=</span>c<span class=\"token punctuation\">(</span><span class=\"token string\">\"zoo\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"guggenheim\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"history\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        stringsAsFactors<span class=\"token operator\">=</span><span class=\"token boolean\">FALSE</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<h3>Build the map and create marker popups</h3>\n<p>Let's build the leaflet map. The links to other tabs will go into a\nleaflet popup. For the popup argument in addMarkers(), you\nwill need to wrap the target value in paste0(). Leaflet will render\nthis as a url. In the server, our leaflet map would look like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\"><span class=\"token comment\"># server</span>\nserver <span class=\"token operator\">&lt;-</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">,</span>output<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token comment\"># build map</span>\n        output<span class=\"token operator\">$</span>map <span class=\"token operator\">&lt;-</span> renderLeaflet<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n                leaflet<span class=\"token punctuation\">(</span>data <span class=\"token operator\">=</span> mapDF<span class=\"token punctuation\">)</span> <span class=\"token percent-operator operator\">%>%</span>\n                        setView<span class=\"token punctuation\">(</span>lat<span class=\"token operator\">=</span> <span class=\"token number\">40.7752739</span><span class=\"token punctuation\">,</span> lng<span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">73.9688518</span><span class=\"token punctuation\">,</span> zoom<span class=\"token operator\">=</span> <span class=\"token number\">14</span><span class=\"token punctuation\">)</span> <span class=\"token percent-operator operator\">%>%</span>\n                        addTiles<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token percent-operator operator\">%>%</span>\n                        addMarkers<span class=\"token punctuation\">(</span>lng <span class=\"token operator\">=</span> <span class=\"token operator\">~</span>lng<span class=\"token punctuation\">,</span> \n                        lat <span class=\"token operator\">=</span> <span class=\"token operator\">~</span>lat<span class=\"token punctuation\">,</span>\n                        popup <span class=\"token operator\">=</span> paste0<span class=\"token punctuation\">(</span><span class=\"token string\">\"Learn more about the \"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"&lt;a onclick=\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"customHref('\"</span><span class=\"token punctuation\">,</span> mapDF<span class=\"token operator\">$</span>hrefValue<span class=\"token punctuation\">,</span><span class=\"token string\">\"')>\"</span><span class=\"token punctuation\">,</span> mapDF<span class=\"token operator\">$</span>location<span class=\"token punctuation\">,</span> <span class=\"token string\">\"&lt;/a>\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Now our app is ready to go. Launch the app and click on the links we\nsetup.</p>\n<span id=\"run\" />\n<h2>How can I run this app?</h2>\n<p>The source code is available on\n<a href=\"https://github.com/davidruvolo51/shinyAppTutorials/tree/master/Internal-Links\">github</a>.\nAlternatively, you can run the demo in R using the following code.</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\"><span class=\"token comment\"># Run in R/Rstudio</span>\ninstall.packages<span class=\"token punctuation\">(</span><span class=\"token string\">\"shiny\"</span><span class=\"token punctuation\">)</span>\nshiny<span class=\"token operator\">::</span>runGitHub<span class=\"token punctuation\">(</span>repo<span class=\"token operator\">=</span><span class=\"token string\">\"shinyAppTutorials\"</span><span class=\"token punctuation\">,</span>username<span class=\"token operator\">=</span><span class=\"token string\">\"davidruvolo51\"</span><span class=\"token punctuation\">,</span>subdir<span class=\"token operator\">=</span><span class=\"token string\">\"Internal-Links\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2>What's next?</h2>\n<p>Make sure to checkout <a href=\"../internal-links-c/\">part 3</a></p>","frontmatter":{"title":"Linking Tabs - Part 2","subtitle":"Creating links to other pages within a leaflet map popup","excerpt":"This tutorial picks up after part 1. What can we do with our custom links? How about adding them in a leaflet popup?","date":"2018-08-01","keywords":["javascript","leaflet"]}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/internal-links-b/"}}
<!DOCTYPE html>
<html>
<head lang="en-US">
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="In this tutorial, we will build a learn how to make cool landing pages.">
	<meta name="keywords" content="R, rstudio, shiny, tutorials, shinyapps, shiny apps">
	<meta property="og:title" content="dcrData / Shiny Tutorials / Landing Pages">
	<meta propert="og:description" content="In this tutorial, we will build a learn how to make cool landing pages.">
	<meta property="twitter:title" content="dcrData / Shiny Tutorials / Landing Pages">
	<meta propert="twitter:description" content="In this tutorial, we will build a learn how to make cool landing pages.">
	<link href="https://fonts.googleapis.com/css?family=Poppins:300,400,600" rel="stylesheet">
	<!-- <link rel="stylesheet" type="text/css" href="../css/styles.css"> -->
	<link rel="stylesheet" type="text/css" href="../css/styles.min.css">
	<title>dcrData | Shiny App Tutorials</title>
</head>
<body>
	<div class="block-titlebar">
		<div class="block-titlebar-content block-grid grid-25-50-25">
			<div class="titlebar-item align-left">
				<a href="../index.html">
					<svg height="20" width="20" role="img" viewBox="0 0 28 18" xmlns="http://www.w3.org/2000/svg">
						<path stroke="#252525" stroke-width="2px" fill="#252525" d="M20,0 L 5,10, L 20,20 Z"/>
					</svg>
				</a>
			</div>
			<div class="titlebar-item align-center">
			</div>
			<div class="titlebar-item align-right">
				<a href="https://www.twitter.com/dcruvolo" aria-label="follow me on twitter">
					<svg height="30" width="30" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z"/></svg>
				</a>
				<a href="https://github.com/davidruvolo51/shinyAppTutorials" aria-label="check out the code for the tutorials over on github">
					<svg height="30" width="30" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
				</a>
			</div>
		</div>
	</div>
	<div class="block-tutorial">
		<div class="block-tutorial-content">
			<div class="tutorial-header">
				<h1>Landing Page</h1>
				<h2>Custom home pages in shiny</h2>
			</div>
			<h2>Contents</h2>
			<section class="toc" aria-label="table of contents">
				<ol>
					<li><a href="#landing-page-about">Why would I need this?</a></li>
					<li><a href="#landing-page-work">How does this work?</a></li>
					<li><a href="#landing-page-run">How do I run the demo?</a></li>
				</ol>
			</section>
			<section id="landing-page-about">
				<h2>Why would I need this?</h2>
				<p>In this community.rstudio.com <a href="https://community.rstudio.com/t/background-images-in-shiny/12261" aria-label="go to original question on community.rstudio.com">question</a>, there was a question on placing content on top of four images arranged in a<code>2 x 2</code>layout. The purpose of this tutorial will describe how to design this page.</p>
				<p>Here's what we will create:</p>
				<img src="https://raw.githubusercontent.com/davidruvolo51/shinyAppTutorials/master/shiny_landing_page/preview.png">
				<blockquote>
					<p>This tutorial focuses on html and css. Some experience of html and css will definitely help, but not required. I've tried to keep concepts as simple and reference outside sources where possible. If you have suggestions for improvement or notice any errors, feel free to open an <a href="https://github.com/davidruvolo51/shinyAppTutorials/issues">issue</a>.</p>
				</blockquote>
			</section>
			<section id="landing-page-work">
				<h2>How does this work?</h2>
				<p>To achieve this design, we will nest two <strong>div</strong> elements (we will refer to them as <strong>children</strong>)in a master <strong>div</strong> (we will refer to this as the  <strong>parent</strong>). One child element will be used for the images and the other child will be used for the content (that to be placed over the images). In shiny this would be written as:</p>
				<pre><code>
				<span class="comment"># parent</span>
				<span class="object">tags</span>$<span class="function">div</span>(

					<span class="comment"># children</span>
							<span class="object">tags</span>$<span class="function">div</span>(...),
							<span class="object">tags</span>$<span class="function">div</span>(...)

				)
				</code></pre>
				<p>Using this structure, let's start by assign css classes.</p>
				<h3>Building the ui and setting css classes</h3>
				<p>The parent <strong>div</strong> will receive the css class <strong>landing-wrapper</strong> and the child elements will recieve the css class <strong>landing-block</strong>. The <strong>div</strong> with images will also receive a css class of <strong>background-content</strong> and the <strong>div</strong> for the content to be placed on top of the images will receive a second css class <strong>foreground-content</strong>.</p> 
				<p>In our app, our ui will be written using html elements made available through <strong>tags$...()</strong>. We will also use an external css file to arrange our content. Create a blank css file and place it in the <strong>www</strong> directory in your project. We will call it something generic like <strong>styles.css</strong>. Since we are creating a layout of two rows with two images in each, we will load four images. Let's also add some generic text for the <strong>foreground-content</strong>.</p> 
				<p>In shiny, our ui would look like this.</p>
				<pre><code>
				<span class="comment"># ui</span>
				<span class="package">ui</span> <- <span class="function">tagList</span>(
							<span class="comment"># head</span>
							<span class="object">tags</span>$<span class="function">head</span>(
								<span class="object">tags</span>$<span class="function">link</span>(<span class="argument">href</span>=<span class="value">"styles.css"</span>)
							),

							<span class="comment"># parent</span>
							<span class="object">tags</span>$<span class="function">div</span>(<span class="argument">class</span>=<span class="value">"landing-wrapper"</span>,
					
										<span class="comment"># child: images</span>
										<span class="object">tags</span>$<span class="function">div</span>(<span class="argument">class</span>=<span class="value">"landing-block background-content"</span>,
												<span class="object">tags</span>$<span class="function">img</span>(<span class="argument">src</span>=<span class="value">"path/to/img/img1.png</span>, <span class="argument">alt</span>=<span class="value">"a description about this image"</span>),
												<span class="object">tags</span>$<span class="function">img</span>(<span class="argument">src</span>=<span class="value">"path/to/img/img2.png</span>, <span class="argument">alt</span>=<span class="value">"a description about this image"</span>),
												<span class="object">tags</span>$<span class="function">img</span>(<span class="argument">src</span>=<span class="value">"path/to/img/img3.png</span>, <span class="argument">alt</span>=<span class="value">"a description about this image"</span>),
												<span class="object">tags</span>$<span class="function">img</span>(<span class="argument">src</span>=<span class="value">"path/to/img/img4.png</span>, <span class="argument">alt</span>=<span class="value">"a description about this image"</span>)
										),

										<span class="comment"># child: content</span>
										<span class="object">tags</span>$<span class="function">div</span>(<span class="argument">class</span>=<span class="value">"landing-block foreground-content"</span>,
												<span class="object">tags</span>$<span class="function">div</span>(<span class="argument">class</span>=<span class="value">"foreground-text"</span>,
														<span class="object">tags</span>$<span class="function">h1</span>(<span class="value">"Title"</span>),
														<span class="object">tags</span>$<span class="function">p</span>(<span class="value">"some text"</span>),
												)
										)

							) <span class="comment"># end parent div</span>
				) <span class="comment"># end tagList</span>
				</code></pre>
				<p>In the above code, I added one additional <strong>div</strong> in the child used for the text. This is for extra control over the positioning of the content. This will come in handy later on.</p>
				<p>It is good practice to set the <strong>alt</strong> attribute. This attribute will display text when an image fails to load, but more importantly it is as a description for individuals with visual impairments. Make sure if you are using images stored locally, these images need to be stored in the <strong>www</strong> directory.</p>
				<p>It's important to note that these css classes are for demonstration purposes only, you may want to use a naming system that makes sense for you.</p>
				<h3>Defining the child elements</h3>
				<p>Now we can start applying to css properties to each class. Open up the css file. You can use rstudio to edit the file or any other text editor.</p>
				<p>Let's start with the class <strong>landing-block</strong>. The purpose of <strong>landing-block</strong> is to apply the same styles to all children (the <strong>div</strong> that contains the images and the <strong>div</strong> that contains the text). You can use this class to set the text color in each child to blue or make background green. For now, we will use this class to make sure the height and width of all children are the same.</p>
				<pre><code>
				<span class="function">.landing-block</span>{
						<span class="value">width</span>: <span class="object">100%</span>;
						<span class="value">height</span>: <span class="object">100vh</span>;
				}
				</code></pre>
				<p><strong>Note:</strong> <strong>vh</strong> is a <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/length#Viewport-percentage_lengths">Viewport Percentage Length</a>. Essentially, this allows you to set elements to the full height of the browser's viewable area.</p>
				<p>Next, we will stay applying properties to the class <strong>background-content</strong>.</p>
				<h3>Arranging the images</h3>
				<p>To get the 2-by-2 layout, we will use <a href="https://css-tricks.com/snippets/css/complete-guide-grid/" aria-label="visit css tricks dot com's complete guide to css grid">css grid</a>. CSS grid is a browser native two dimensional layout system. This means that elements can be arranged by columns and rows. There are many powerful features in grid (see link for more info) in this example we will specify the desired number of columns using the property <strong>grid-template-columns</strong>. To use css grid, simply set the property <strong>display</strong> to <strong>grid</strong> to the class <strong>background-content</strong>.</p>
				<pre><code>
				<span class="function">.background-content</span>{
						<span class="value">display</span>: <span class="object">grid</span>;
				} 
				</code></pre>
				<p>How do we set the number of columns?</p> 
				<p>The desired number of columns is defined by explicity setting the widths for each column followed by a space. You can use fixed widths (e.g., 250px), but it's easier to use relative widths (e.g., 25%, 50%, 62.7%, etc.) as these units will respond to browser widths and adjust accordingly if the user resizes the browser window.</p> 
				<p>In our example, we want a 2x2 layout. Since we are using the relative widths (i.e., %), the widths of our columns will be half of the total width (total possible width = 100%). Therefore, each column will have a width of 50%. This will written out as: <strong>50% 50%</strong>.</p> 
				<p>Going back the our class <strong>background-content</strong>, let's add in the columns. The property for setting the columns is <strong>grid-template-columns</strong>.</p>
				<pre><code>
				<span class="function">.background-content</span>{
						<span class="value">display</span>: <span class="object">grid</span>;
						<span class="value">grid-template-columns</span>: <span class="object">50% 50%</span>;
				} 
				</code></pre>
				<p>We could write this another way using the <strong>repeat</strong> function. The function repeat allows us to duplicate a value a given number of times. The function looks like this <strong>repeat(n, value</strong>) where <strong>n</strong> equals the number of times to repeat the <strong>value</strong>. In our example, we could rewrite it as <strong>repeat(2, 50%)</strong>. This function is super handy if you have several elements of the same width. You can also mix and match <strong>repeat</strong> with explict naming of columns: <strong>25% repeat(5, 10%) 25%</strong>.</p>
				<p>Before we move on to styling the foreground content, we will apply a couple of properties to the images. We want to make sure the images fit within each "cell" in the <strong>background-content</strong>. By default, image do not have default properties as a <strong>div</strong> and this can cause images to behavior differently. To correct this, we will modify the display property to <strong>block</strong>.</p>
				<pre><code>
				<span class="function">.background-content</span> <span class="argument">img</span>{
						<span class="value">display</span>: <span class="object">block</span>;
						<span class="value">width</span>: <span class="object">100%</span>;
				}
				</code></pre>
				<p>Why did it write this as <strong>.background-content img</strong>? This is known as a <strong>descendent combinator</strong>. A <strong> descendent combinator</strong> is a css selector path that allows us to apply styles to a elements that follow a similar path in the DOM. We could write this with <strong>img</strong> only, but all images in our app will be displayed to <strong>100%</strong>. This isn't ideal if we have logos or other images that should have fixed widths. See <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors" aria-label="visit mozilla.com for more info on css selectors">Mozilla.com - css selectors</a> for more information.</p>
				<p>At this point, we have our images arranged. Update the links with four images of your choice and start up our app. What do you see?</p>
				<h3>Arranging the text</h3>
				<p>Now we will style the <strong>foreground-content</strong>.</p>
				<p>In the original post, the navbar page layout was used. In our css file, we will need to account for the height of that navigation bar at the top of the page (skip this part if you are using are using the standard html layout). We already set the height and width (see section 2) so now we need to adjust the foreground position so it sits on top of the images.</p> 
				<p>To do this we will set the <strong>position</strong> to <strong>absolute</strong>. This removes an element from the document flow allowing the element to "float" on the page. We will set the property <strong>top</strong> (the <i>y</i> distance from the top of the page) to <strong>10%</strong> (10% is roughly the height of the navigation bar; adjust as necessary).</p> 
				<p>We will also need to make sure that our content stays on top of everything else. Setting the content's <strong>z-index</strong> to a high number allows us to do layer elements accordingly. The default <strong>z-index</strong> is 0 by increasing the <strong>z-index</strong> we are allowing content to be layered on top of other elements. We will set it to <strong>9999</strong>.</p>
				<p>Lastly, we will also use css <a href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/">flexbox layout</a> to align items within their parent element (i.e., <strong>landing-wrapper</strong>). We want the content to be aligned vertically and horizontally. The property <strong>justify-content</strong> allows us to align items horizontally and the property <strong>align-items</strong> allows us to align items vertically. In our case, we will set both of properties to <strong>center</strong>.</p>
				<p>Here's what it looks like.</p>
				<pre><code>
				<span class="function">.foreground-content</span>{
						<span class="value">position</span>: <span class="object">absolute</span>;
						<span class="value">top</span>: <span class="object">10%</span>; <span class="comment">/* use "top: 0;" if you are using a standard html page */</span> 
						<span class="value">z-index</span>: <span class="object">9999</span>;
						<span class="value">display</span>: <span class="object">flex</span>;
						<span class="value">justify-content</span>: <span class="object">center</span>;
						<span class="value">align-items</span>: <span class="object">center</span>;
				}
				</code></pre>
				<p>In the ui.R, we will add content to <strong>foreground-content</strong>. We will add a title and short sentence, and then wrap the text in a new <strong>div</strong>. We will also add in the image paths (make sure images are located in the <strong>www</strong> directory or have a valid url).</p>
				<pre><code>
				<span class="package">ui</span> <- <span class="function">tagList</span>(
							<span class="comment"># head</span>
							<span class="object">tags</span>$<span class="function">head</span>(
								<span class="object">tags</span>$<span class="function">link</span>(<span class="argument">href</span>=<span class="value">"styles.css"</span>)
							),

							<span class="comment"># parent</span>
							<span class="object">tags</span>$<span class="function">div</span>(<span class="argument">class</span>=<span class="value">"landing-wrapper"</span>,
					
										<span class="comment"># child: images</span>
										<span class="object">tags</span>$<span class="function">div</span>(<span class="argument">class</span>=<span class="value">"landing-block background-content"</span>,
												<span class="object">tags</span>$<span class="function">img</span>(<span class="argument">src</span>=<span class="value">"www/img1.png</span>, <span class="argument">alt</span>=<span class="value">"a description about this image"</span>),
												<span class="object">tags</span>$<span class="function">img</span>(<span class="argument">src</span>=<span class="value">"www/img2.png</span>, <span class="argument">alt</span>=<span class="value">"a description about this image"</span>),
												<span class="object">tags</span>$<span class="function">img</span>(<span class="argument">src</span>=<span class="value">"www/img3.png</span>, <span class="argument">alt</span>=<span class="value">"a description about this image"</span>),
												<span class="object">tags</span>$<span class="function">img</span>(<span class="argument">src</span>=<span class="value">"www/img4.png</span>, <span class="argument">alt</span>=<span class="value">"a description about this image"</span>)
										),

										<span class="comment"># child: content</span>
										<span class="object">tags</span>$<span class="function">div</span>(<span class="argument">class</span>=<span class="value">"landing-block foreground-content"</span>,
												<span class="object">tags</span>$<span class="function">div</span>(<span class="argument">class</span>=<span class="value">"foreground-text"</span>,
														<span class="object">tags</span>$<span class="function">h1</span>(<span class="value">"Title"</span>),
														<span class="object">tags</span>$<span class="function">p</span>(<span class="value">"some text"</span>),
												)
										)

							) <span class="comment"># end parent div</span>
				) <span class="comment"># end tagList</span>
				</code></pre>
				<p>The flexbox attributes that we defined for the class <strong>foreground-content</strong> will push the element <strong>foreground-text</strong> to the middle of the page (vertically and horizontally).</p>
				<p>At this point, the <strong>foreground-text</strong> isn't anything to write home about. It's black text on a series of images. We will add some basic styles to make this element standout a bit. Let's make the background color white and add a bit of padding around the text. We will also add a drop shadow to make content to appear on top of the images.</p>
				<pre><code>
				<span class="function">.foreground-content</span> <span class="function">.foreground-text</span>{
						<span class="value">width</span>: 50%;
						<span class="value">padding</span>: 7.5%;
						<span class="value">color</span>: black;
						<span class="value">background-color</span>: white;
						<span class="value">text-align</span>: center;
						<span class="value">box-shadow</span>: 0 4px 6px 2px hsla(0, 0%, 0%, 0.18);
				}
				</code></pre>
				<p>That's it! Our app is ready to go. We have our images laid out and we've placed some content on top. Enjoy!</p>
			</section>
			<section id="landing-page-run">
				<h2>How do I run the demo?</h2>
				<p>The source code is available on <a href="https://github.com/davidruvolo51/shinyAppTutorials/tree/master/shiny_landing_page" aria-label="view the full code on hithub . com">github</a>. Alternatively, you can run the demo in R using the following code.</p>
				<pre><code>
				<span class="comment"># Run in R/Rstudio</span>
				<span class="function">install.packages</span>("<span class="package">shiny</span>")
				<span class="package">shiny</span>::<span class="function">runGitHub</span>(<span class="argument">repo</span>=<span class="value">"shinyAppTutorials"</span>,<span class="argument">username</span>=<span class="value">"davidruvolo51"</span>,<span class="argument">subdir</span>=<span class="value">"shiny_landing_page"</span>)
				</code></pre>
			</section>
		</div>
	</div>
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-76117337-11"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-76117337-11');
	</script>
</body>
</html>
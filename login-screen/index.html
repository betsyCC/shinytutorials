<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/shinytutorials/styles.39c4a3c916ea07fee65b.css">code[class*=language-],pre[class*=language-]{color:#a9b7c6;font-family:Consolas,Monaco,Andale Mono,monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{color:inherit;background:rgba(33,66,131,.85)}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2b2b2b}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em}.token.cdata,.token.comment,.token.prolog{color:grey}.token.atrule,.token.boolean,.token.delimiter,.token.important,.token.keyword,.token.selector{color:#cc7832}.token.attr-name,.token.operator,.token.punctuation{color:#a9b7c6}.token.builtin,.token.doctype,.token.tag,.token.tag .punctuation{color:#e8bf6a}.token.entity,.token.number,.token.symbol{color:#6897bb}.token.constant,.token.property,.token.variable{color:#9876aa}.token.char,.token.string{color:#6a8759}.token.attr-value,.token.attr-value .punctuation{color:#a5c261}.token.attr-value .punctuation:first-child{color:#a9b7c6}.token.url{color:#287bde;text-decoration:underline}.token.function{color:#ffc66d}.token.regex{background:#364135}.token.bold{font-weight:700}.token.italic{font-style:italic}.token.inserted{background:#294436}.token.deleted{background:#484a4a}code.language-css .token.property,code.language-css .token.property+.token.punctuation{color:#a9b7c6}code.language-css .token.id,code.language-css .token.selector>.token.attribute,code.language-css .token.selector>.token.class,code.language-css .token.selector>.token.pseudo-class,code.language-css .token.selector>.token.pseudo-element{color:#ffc66d}body,html{padding:0;margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;cursor:default;background-color:#fff;font-size:18px}article,footer,header,main{padding:0;margin:0;display:block}h1,h2,h3,h4,h5,h6{display:block;color:#252525;line-height:1.4;padding:0;margin:0 0 6px}a,li,p,time{color:#3f454b;line-height:1.9}a{text-decoration:none;box-shadow:0 -1px solid #3f454b}blockquote{line-height:1.9;color:#3f454b}form{padding:16px 0;border-bottom:1px solid #ccc}form,label{display:block}label{margin-bottom:6px}input{width:90%;font-size:12pt;padding:8px 8px 8px 12px;border-radius:0;background-color:#f5f7fa;box-shadow:inset 0 2px 2px #bbc9dd}button,input{-webkit-appearance:none;-moz-appearance:none;appearance:none;display:block;border:none}button{margin:8px 0 8px -8px;padding:4px 0 4px 8px;font-size:14px;outline:none;background-color:transparent;cursor:pointer;transition:all .2s ease-in-out;border-left:3px solid transparent}button.menu-btn.selected,button.menu-btn:focus,button.menu-btn:hover{color:#5c80bc;font-weight:600;border-left-color:#5c80bc}button.reset{border:1px solid #3f454b;color:#3f454b;padding:8px 12px;margin-left:24px}button.reset:focus,button.reset:hover{background-color:#3f454b;color:#f0f0f0}img{width:100%}img,pre code{display:block}pre code{padding:6px 8px}div.gatsby-highlight{margin:32px 0}.header{position:fixed;top:0;width:100%;text-align:center;background-color:#fff;box-shadow:0 2px 6px rgba(0,0,0,.3);z-index:15}.header .header-link{display:inline-block;padding-top:12px;font-weight:600;letter-spacing:1.5px}.header .header-icon{display:inline-block;width:16px;height:16px;padding:0 6px;fill:#3f454b}.header .header-link:hover{color:#5c80bc;fill:#5c80bc;box-shadow:inset 0 -4px 0 #5c80bc}.header .header-link:hover .header-icon{fill:#5c80bc}.hero{width:100%;padding:44px 0;display:-webkit-flex;display:flex;position:relative;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;align-items:center;background-color:#fff;overflow:hidden}.hero .hero-content{width:85%;padding:44px 0;z-index:12}.hero .hero-content h2{color:#3f454b;font-weight:600;font-size:21px;letter-spacing:1.2px}.hero .hero-content time{font-size:16px;font-weight:600}.hero .hero-content hr{display:block;margin:6px 0 12px;width:210px;border:none;border-bottom:3px solid #5c80bc;opacity:.25}.hero.index-hero .hero-content .hero-image{display:block;width:300px;margin:44px auto;box-shadow:0 12px 3px -6px rgba(0,0,0,.3)}.hero.index-hero:before{top:-30%;-webkit-transform:rotate(8deg);transform:rotate(8deg)}.hero.index-hero:after,.hero.index-hero:before{content:" ";position:absolute;width:250%;height:60%;background-color:#5c80bc;right:-60%}.hero.index-hero:after{opacity:.25;top:-25%;-webkit-transform:rotate(6.5deg);transform:rotate(6.5deg)}.hero.tutorial-hero:before{width:160%;-webkit-transform:rotate(-18deg);transform:rotate(-18deg)}.hero.tutorial-hero:after,.hero.tutorial-hero:before{content:" ";position:absolute;height:45%;background-color:#5c80bc;bottom:-30%;right:-60%}.hero.tutorial-hero:after{width:170%;opacity:.25;-webkit-transform:rotate(-14deg);transform:rotate(-14deg)}.tutorial-block{padding:32px 0;background-color:#f5f7fa;min-height:60vh}.tutorial-nav{padding:32px 16px}.tutorial-nav .menu-title{margin-left:24px}.tutorial-nav .menu{list-style:none;padding:0;margin:0 0 44px 24px}.tutorial-nav .menu .menu-item{width:200px;padding:0 24px 0 0;margin-bottom:12px;cursor:pointer}.tutorial-nav .action-link{margin-left:24px}.tutorial-list{padding:0}.tutorial-list .tutorial-list-content{padding:24px 0 24px 16px;background-color:#fff}.post{display:block;padding:32px 0;border-bottom:1px solid #ccc}.post:last-child{border-bottom:none}.post .post-title{text-decoration:underline}.post .post-title:hover{color:#5c80bc}.post .post-desc{width:77%}.post .post-date{font-size:14px;font-family:consolas,courier,sans-serif}.post-tags-list,.post .post-date{display:inline-block;color:#3f454b}.post-tags-list{padding:0;margin:0 0 0 18px;list-style:none}.post-tags-list li{display:inline;margin-left:12px;padding:5px 10px;border-radius:5px;font-size:14px;background-color:#f9f4f0;font-family:consolas,courier,sans-serif}.post-tags-list li:before{content:"#"}.main{background-color:#f5f7fa;padding-bottom:44px;min-height:71.4vh}.tutorial-post{display:block;position:relative;background-color:#fff;padding:16px 32px 44px;max-width:792px;margin:50px auto 0;box-shadow:0 3px 4px rgba(0,0,0,.3);z-index:10}.tutorial-post blockquote{background-color:#f5f7fa;padding:16px 24px;margin:44px 0;border-left:10px solid #5c80bc}.tutorial-post .tutorial-body h2{padding:0;margin:32px 0 0}.tutorial-post .tutorial-body a{color:#5c80bc;text-decoration:underline}.tutorial-post .tutorial-body img{margin:32px 0}.tutorial-post .tutorial-body code{word-break:break-all}.main .tutorial-post .tutorial-body ol li,.main .tutorial-post .tutorial-body ol li a,.main .tutorial-post .tutorial-body ol li p,.main .tutorial-post .tutorial-body ul li,.main .tutorial-post .tutorial-body ul li a,.main .tutorial-post .tutorial-body ul li p{margin:0;padding:0}.main .tutorial-post .tutorial-body ol li ol{list-style:lower-alpha}.main .tutorial-post .tutorial-footer{border-top:1px solid #ccc;padding:16px 0}.main .tutorial-post .tutorial-footer .post-tags-list{margin-left:0}.footer{margin:0;padding:44px 0;background-color:#33404d}.footer p{color:inherit;text-align:center}.footer .external-links{margin:0;text-align:center}.footer .external-links .link{display:inline-block;width:200px;margin:0 24px;border-radius:4px}.footer .external-links .link .nav-link{position:relative;color:#fff;fill:#fff;box-shadow:inset 0 -1px 0 #fff}.footer .external-links .link .nav-link svg{position:absolute;height:18px;width:18px;top:2px;left:-24px}.four-o-four-page{width:90%;margin:44px auto}.four-o-four-page svg{border:1px solid brown;box-shadow:-1px 5px 4px 2px rgba(37,37,37,.2);padding:25px;-webkit-transform:scale(1.5);transform:scale(1.5);background-color:#fff;border-radius:100%;margin:2em}@media screen and (min-width:900px){input{width:80%}.hero .hero-content{width:50%}.tutorial-nav{-ms-grid-column:1;-ms-grid-row:1;grid-column:1;grid-row:1;grid-area:nav;padding:88px 32px 32px;position:-webkit-sticky;position:sticky;top:0;height:100px}.tutorial-block{display:-ms-grid;display:grid;-ms-grid-columns:25% 75%;grid-template-columns:25% 75%;grid-template-areas:"nav list";padding:32px 0;background-color:#f5f7fa;min-height:100vh}.tutorial-list{-ms-grid-column:2;-ms-grid-row:1;grid-column:2;grid-row:1;grid-area:list}.tutorial-list .tutorial-list-content{width:75%;padding:34px 44px;box-shadow:0 0 4px 2px rgba(0,0,0,.3)}.tutorial-post{padding:16px 44px 44px}.four-o-four-page{width:60%;text-align:center}}</style><meta name="generator" content="Gatsby 2.2.10"/><title data-react-helmet="true"></title><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link as="script" rel="preload" href="/shinytutorials/webpack-runtime-17836ce2a8e48fa1bfc1.js"/><link as="script" rel="preload" href="/shinytutorials/app-7ae387d919581d6e6c2f.js"/><link as="script" rel="preload" href="/shinytutorials/styles-fa947043799cbb3b0c3c.js"/><link as="script" rel="preload" href="/shinytutorials/component---src-components-tutorials-js-88f7251891992411e482.js"/><link as="fetch" rel="preload" href="/shinytutorials/static/d/652/path---login-screen-9-f-3-a2e-XqxJY4jD2XTuyRmrILwH9gpWYQ.json" crossorigin="use-credentials"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><header class="header"><a class="header-link" href="/shinytutorials/"><svg class="header-icon" viewBox="0 0 576 512"><path d="M570.24 247.41L512 199.52V104a8 8 0 0 0-8-8h-32a8 8 0 0 0-7.95 7.88v56.22L323.87 45a56.06 56.06 0 0 0-71.74 0L5.76 247.41a16 16 0 0 0-2 22.54L14 282.25a16 16 0 0 0 22.53 2L64 261.69V448a32.09 32.09 0 0 0 32 32h128a32.09 32.09 0 0 0 32-32V344h64v104a32.09 32.09 0 0 0 32 32h128a32.07 32.07 0 0 0 32-31.76V261.67l27.53 22.62a16 16 0 0 0 22.53-2L572.29 270a16 16 0 0 0-2.05-22.59zM463.85 432H368V328a32.09 32.09 0 0 0-32-32h-96a32.09 32.09 0 0 0-32 32v104h-96V222.27L288 77.65l176 144.56z"></path></svg>shinyTutorials</a></header><main class="main" id="content" aria-label="main content"><main class="main tutorial" id="content" aria-label="main content"><header class="hero tutorial-hero"><div class="hero-content"><svg class="svg-image" width="210" height="100" viewBox="0 0 210 100"><rect x="10" y="40" width="40" height="80" fill="#5C80BC"></rect><rect x="60" y="20" width="40" height="100" fill="#5C80BC"></rect><rect x="110" y="50" width="40" height="70" fill="#5C80BC"></rect><rect x="160" y="80" width="40" height="40" fill="#5C80BC"></rect></svg><hr/><h2>Login Screen</h2><h1>Building a Simple Password Protected Shiny App</h1><time>1 March 2018</time></div></header><article class="tutorial-post"><section class="tutorial-body" aria-label="post content"><h2>Contents</h2>
<ol>
<li><a href="#about">Why would I need a login screen?</a></li>
<li><a href="#work">How does the login screen work?</a></li>
<li><a href="#whatelse">What else should I know before using this?</a></li>
<li><a href="#run">How do I run the demo?</a></li>
</ol>
<span id="about" />
<h2>Why would I need this?</h2>
<p>You probably do not need and you should use other well-defined methods
than this one. The professional shinyapps.io account has a privacy
settings that allows you to make apps private, but it does require a
subscription. If you wanted to create an 'protected' shiny app this
could be a potential solution that was inspired by a few SO posts. If
you setting up your own shiny server, there are tutorials and guides
available for protecting your applications using better methods.</p>
<span id="work" />
<h2>How does the app work?</h2>
<p>The way to visualize the UI structure is that there are three different
'screens': 1) login, 2) standard user UI, and 3) admin UI. When the
user logs in, the username/password input is matched to the user account
dataset. If the credentials do not match, then an error message is
displayed. If successful, the credentials are matched to the
corresponding account type (standard or admin), which renders the
corresponding UI.</p>
<h3>Create a single line ui.R file.</h3>
<p>This shiny app works by rending the UI on the server side on successful
login. The ui.R file looks like this.</p>
<div class="gatsby-highlight" data-language="r"><pre class="language-r"><code class="language-r">ui <span class="token operator">&lt;-</span> uiOutput<span class="token punctuation">(</span><span class="token string">"page"</span><span class="token punctuation">)</span></code></pre></div>
<h3>Build the base <strong>ui1()</strong></h3>
<p>The base ui <strong>ui1()</strong> contains the structure and the styling for the
login screen. The login screen will have a short greeting and text
inputs for username and password. The function, <strong>good_time</strong> returns a
time of day greeting (e.g., 'good morning' or 'good evening'; see R
file). Beneath the input box, we will also create a <strong>uiOutput</strong> for the
error message, which is described in the next step.</p>
<div class="gatsby-highlight" data-language="r"><pre class="language-r"><code class="language-r"><span class="token comment"># set ui1</span>
ui1 <span class="token operator">&lt;-</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        tagList<span class="token punctuation">(</span>
                div<span class="token punctuation">(</span>id<span class="token operator">=</span><span class="token string">"container"</span><span class="token punctuation">,</span>
                        div<span class="token punctuation">(</span>id <span class="token operator">=</span> <span class="token string">"login"</span><span class="token punctuation">,</span>

                                <span class="token comment"># make login panel</span>
                                wellPanel<span class="token punctuation">(</span>id<span class="token operator">=</span><span class="token string">"well"</span><span class="token punctuation">,</span>
                                        HTML<span class="token punctuation">(</span>paste0<span class="token punctuation">(</span><span class="token string">'&lt;h2>Hello, '</span><span class="token punctuation">,</span> good_time<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'&lt;/h2>&lt;br>&lt;h3>Sign in to your account.&lt;/h3>'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                                        br<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                                        textInput<span class="token punctuation">(</span><span class="token string">"userName"</span><span class="token punctuation">,</span><span class="token string">"Username"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                                        passwordInput<span class="token punctuation">(</span><span class="token string">"passwd"</span><span class="token punctuation">,</span> <span class="token string">"Password"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

                                        <span class="token comment"># button</span>
                                        actionButton<span class="token punctuation">(</span><span class="token string">"Login"</span><span class="token punctuation">,</span><span class="token string">"Log in"</span><span class="token punctuation">)</span>
                                <span class="token punctuation">)</span><span class="token punctuation">,</span>

                                <span class="token comment"># login error message</span>
                                uiOutput<span class="token punctuation">(</span><span class="token string">"message"</span><span class="token punctuation">)</span>
                        <span class="token punctuation">)</span>
                <span class="token punctuation">)</span><span class="token punctuation">,</span>

                <span class="token comment"># css here</span>
                <span class="token ellipsis">...</span>
        <span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<h3>Define the user accounts</h3>
<p>Create an object with allowed usernames and passwords. You can use email
addresses if that's easier and also assign initial passwords. You can
also generate random character strings using the
<strong>stri_rand_strings()</strong> function from the <strong>stringi</strong> package.</p>
<div class="gatsby-highlight" data-language="r"><pre class="language-r"><code class="language-r"><span class="token comment"># example accounts</span>
<span class="token operator">|</span> type     <span class="token operator">|</span> Username       <span class="token operator">|</span> password      <span class="token operator">|</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
<span class="token operator">|</span> standard <span class="token operator">|</span> brooke7901     <span class="token operator">|</span>  somePassword <span class="token operator">|</span>
<span class="token operator">|</span> admin    <span class="token operator">|</span> shirley2131    <span class="token operator">|</span>  somePassword <span class="token operator">|</span>
<span class="token operator">|</span> admin    <span class="token operator">|</span> lindsey5876    <span class="token operator">|</span>  somePassword <span class="token operator">|</span>

<span class="token comment"># Build data.frame of user accounts</span>
users <span class="token operator">&lt;-</span> data.frame<span class="token punctuation">(</span>
        <span class="token string">"User"</span><span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token string">"brooke7901"</span><span class="token punctuation">,</span><span class="token string">"shirley2131"</span><span class="token punctuation">,</span><span class="token string">"lindsey5876"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">"Password"</span><span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token string">"somePassword"</span><span class="token punctuation">,</span><span class="token string">"somePassword"</span><span class="token punctuation">,</span><span class="token string">"somePassword"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        stringsAsFactors<span class="token operator">=</span><span class="token boolean">FALSE</span>
<span class="token punctuation">)</span></code></pre></div>
<p>Make sure the user account information are stored separately and kept
secure. It would best to consult someone who is familiar with security
if you were planning to host on the web (Ideally, you would want to use
a well defined tool).</p>
<h3>Create an object that will handle the login status</h3>
<p>Over on the shiny server code, let's create an object that will handle
the user login status (i.e., is the user logged in? yes or no?). Outside
the server code, we create the object <strong>Logged</strong> and set it to <strong>FALSE</strong>
(where <strong>FALSE</strong> means not logged in).</p>
<div class="gatsby-highlight" data-language="r"><pre class="language-r"><code class="language-r"><span class="token comment"># login status</span>
Logged <span class="token operator">=</span> <span class="token boolean">FALSE</span></code></pre></div>
<p>We also place this into a <strong>reactiveValue</strong> object.</p>
<div class="gatsby-highlight" data-language="r"><pre class="language-r"><code class="language-r"><span class="token comment"># reactive values for login status</span>
USER <span class="token operator">&lt;-</span> reactiveValues<span class="token punctuation">(</span>Logged <span class="token operator">=</span> Logged<span class="token punctuation">)</span></code></pre></div>
<h3>Set Login Screen ObserveEvent</h3>
<p>There is one <strong>observeEvent</strong> that checks the user inputs. This event is
triggered when the login button is clicked.</p>
<p>In the first block (# render error message), the user input is checked
against the list registered users. If the credentials supplied does not
match any of the existing accounts, then it displays an error message.
The input data is matched with existing accounts by using <strong>grep</strong> to
scan through the data for matching username and password, and then
returns the length of the data. The return value is numeric and can only
have the values of 0 or 1 where 0 equals no match and 1 equals a
sucessful match. Both username and password have to return a value of 1
in order to move on.</p>
<p>The second block (#check input) uses the same method except that when
credentials are successfully matched, it sets the object <strong>Logged</strong> to
TRUE. <strong>Logged</strong> is the current status of user where <strong>TRUE</strong> equals
logged in and <strong>FALSE</strong> equals logged out.</p>
<div class="gatsby-highlight" data-language="r"><pre class="language-r"><code class="language-r"><span class="token comment"># On login btn click</span>
observeEvent<span class="token punctuation">(</span>input<span class="token operator">$</span>Login<span class="token punctuation">,</span><span class="token punctuation">{</span>

        <span class="token comment"># render error message</span>
        output<span class="token operator">$</span>message <span class="token operator">&lt;-</span> renderUI<span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>is.null<span class="token punctuation">(</span>input<span class="token operator">$</span>Login<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                        my_username <span class="token operator">&lt;-</span> length<span class="token punctuation">(</span>users<span class="token operator">$</span>User<span class="token punctuation">[</span>grep<span class="token punctuation">(</span>pattern <span class="token operator">=</span> input<span class="token operator">$</span>userName<span class="token punctuation">,</span> x <span class="token operator">=</span> users<span class="token operator">$</span>User<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                        my_password <span class="token operator">&lt;-</span> length<span class="token punctuation">(</span>users<span class="token operator">$</span>User<span class="token punctuation">[</span>grep<span class="token punctuation">(</span>pattern <span class="token operator">=</span> input<span class="token operator">$</span>passwd<span class="token punctuation">,</span> x <span class="token operator">=</span> users<span class="token operator">$</span>Password<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>input<span class="token operator">$</span>Login <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>my_username <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">||</span>  my_password <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                                        HTML<span class="token punctuation">(</span><span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">'error-box'</span><span class="token operator">></span>Sorry<span class="token punctuation">,</span> that's not the right username or password. Please<span class="token punctuation">,</span> try again. <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>"<span class="token punctuation">)</span>
                                <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>

        <span class="token comment"># CHECK INPUT</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>USER<span class="token operator">$</span>Logged <span class="token operator">==</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>is.null<span class="token punctuation">(</span>input<span class="token operator">$</span>Login<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>input<span class="token operator">$</span>Login <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            Username <span class="token operator">&lt;-</span> isolate<span class="token punctuation">(</span>input<span class="token operator">$</span>userName<span class="token punctuation">)</span>
                            Password <span class="token operator">&lt;-</span> isolate<span class="token punctuation">(</span>input<span class="token operator">$</span>passwd<span class="token punctuation">)</span>
                            Id.username <span class="token operator">&lt;-</span> which<span class="token punctuation">(</span>users<span class="token operator">$</span>User <span class="token operator">==</span> Username<span class="token punctuation">)</span>
                            Id.password <span class="token operator">&lt;-</span> which<span class="token punctuation">(</span>users<span class="token operator">$</span>Password <span class="token operator">==</span> Password<span class="token punctuation">)</span>
                                <span class="token keyword">if</span><span class="token punctuation">(</span>length<span class="token punctuation">(</span>Id.username<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;</span> length<span class="token punctuation">(</span>Id.password<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                        <span class="token keyword">if</span><span class="token punctuation">(</span>Id.username <span class="token percent-operator operator">%in%</span> Id.password<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                                USER<span class="token operator">$</span>Logged <span class="token operator">&lt;-</span> <span class="token boolean">TRUE</span>
                                        <span class="token punctuation">}</span>
                                <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<h3>Rendering the UI When Logged = TRUE</h3>
<p>Rendering the UI is fairly straightforward at this point and can be
triggered by a conditional statement. The following code demonstrates
how the object <strong>logged</strong> (as defined in the previous steps) is used to
render the UI.</p>
<p>If the value of <strong>logged</strong> == <strong>FALSE</strong>, then render the UI object
<strong>ui1</strong> that was defined in step 2. Since the initial value of
<strong>logged</strong> is <strong>FALSE</strong>, the login ui will render by default (e.g., on
app load).</p>
<div class="gatsby-highlight" data-language="r"><pre class="language-r"><code class="language-r"><span class="token comment"># render ui based on admin rights</span>
observe<span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment"># when logged = FALSE</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>USER<span class="token operator">$</span>Logged <span class="token operator">==</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    output<span class="token operator">$</span>page <span class="token operator">&lt;-</span> renderUI<span class="token punctuation">(</span><span class="token punctuation">{</span>
                        div<span class="token punctuation">(</span>class<span class="token operator">=</span><span class="token string">"outer"</span><span class="token punctuation">,</span>do.call<span class="token punctuation">(</span>bootstrapPage<span class="token punctuation">,</span>c<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span>ui1<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        <span class="token comment"># Render UI by user type when logged = TRUE</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>USER<span class="token operator">$</span>Logged <span class="token operator">==</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                
                <span class="token comment"># get the current user's authorization level</span>
                user_log <span class="token operator">&lt;-</span> toupper<span class="token punctuation">(</span>input<span class="token operator">$</span>userName<span class="token punctuation">)</span>
                    
                <span class="token comment"># if admin</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>user_log <span class="token operator">==</span> <span class="token string">"ADMIN"</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                        output<span class="token operator">$</span>page <span class="token operator">&lt;-</span> renderUI<span class="token punctuation">(</span><span class="token punctuation">{</span>
                                fluidPage<span class="token punctuation">(</span>
                                        <span class="token ellipsis">...</span>
                                <span class="token punctuation">)</span>
                        <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>

                <span class="token comment"># if standard user</span>
                <span class="token keyword">else</span><span class="token punctuation">{</span>
                        output<span class="token operator">$</span>page <span class="token operator">&lt;-</span> renderUI<span class="token punctuation">(</span><span class="token punctuation">{</span>
                                    fluidPage<span class="token punctuation">(</span>
                                            <span class="token ellipsis">...</span>
                                    <span class="token punctuation">)</span>
                        <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>Setting admin rights is optional. If you do not want it, restructure the
<strong>logged = TRUE</strong> section as written below.</p>
<div class="gatsby-highlight" data-language="r"><pre class="language-r"><code class="language-r"><span class="token comment"># render ui without admin rights</span>
observe<span class="token punctuation">(</span><span class="token punctuation">{</span>
        
        <span class="token comment"># when logged = FALSE</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>USER<span class="token operator">$</span>Logged <span class="token operator">==</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                output<span class="token operator">$</span>page <span class="token operator">&lt;-</span> renderUI<span class="token punctuation">(</span><span class="token punctuation">{</span>
                        div<span class="token punctuation">(</span>class<span class="token operator">=</span><span class="token string">"outer"</span><span class="token punctuation">,</span>do.call<span class="token punctuation">(</span>bootstrapPage<span class="token punctuation">,</span>c<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span>ui1<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> 

        <span class="token comment"># Render UI by user type when logged = TRUE</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>USER<span class="token operator">$</span>Logged <span class="token operator">==</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                output<span class="token operator">$</span>page <span class="token operator">&lt;-</span> renderUI<span class="token punctuation">(</span><span class="token punctuation">{</span>
                        fluidPage<span class="token punctuation">(</span>
                                <span class="token ellipsis">...</span>
                        <span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>You may replace <strong>fluidPage</strong> with any type of shiny ui layout (e.g.,
<strong>sidebarLayout</strong>, <strong>tabsetPanel</strong>, etc.). See
<a href="https://shiny.rstudio.com/articles/layout-guide.html">shiny.rstudio.com/articles/layout-guide.html</a>
for more information.</p>
<span id="whatelse">
<h2>Thoughts</h2>
<p>I've used this method to create a project management tool to manage
daily activities and tasks. It was hosted on department servers and I
added this login screen only those with an account could view it. In the
live app, the account data was stored separately. I don't see much use
for it elsewhere and it was a pain to setup. The server side can get
messy pretty quickly, and we haven't added any code to build charts or
other elements. I wouldn't really use this if you have sensitive
information you'd like to protect.</p>
<p>Alternatively, you can use the shiny package
<a href="https://paul.rbind.io/2018/11/04/introducing-shinyauthr/">shinyauthr</a>.</p>
<span id="run" />
<h2>How can I run this app?</h2>
<p>The source code is available on
<a href="https://github.com/davidruvolo51/shinyAppTutorials/tree/master/Login-Screen">github</a>.
Alternatively, you can run the demo in R using the following code. Use
one of the following accounts to login.</p>
<div class="gatsby-highlight" data-language="r"><pre class="language-r"><code class="language-r"><span class="token comment"># Run in R/Rstudio</span>
install.packages<span class="token punctuation">(</span><span class="token string">"shiny"</span><span class="token punctuation">)</span>
shiny<span class="token operator">::</span>runGitHub<span class="token punctuation">(</span>repo<span class="token operator">=</span><span class="token string">"shinyAppTutorials"</span><span class="token punctuation">,</span> username<span class="token operator">=</span><span class="token string">"davidruvolo51"</span><span class="token punctuation">,</span> subdir<span class="token operator">=</span><span class="token string">"Login-Screen"</span><span class="token punctuation">)</span>

<span class="token comment"># sample accounts</span>
<span class="token operator">|</span> type     <span class="token operator">|</span> Username <span class="token operator">|</span> password <span class="token operator">|</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
<span class="token operator">|</span> standard <span class="token operator">|</span> user     <span class="token operator">|</span> password <span class="token operator">|</span>
<span class="token operator">|</span> standard <span class="token operator">|</span> test     <span class="token operator">|</span> test     <span class="token operator">|</span>
<span class="token operator">|</span> admin    <span class="token operator">|</span> admin    <span class="token operator">|</span> admin    <span class="token operator">|</span></code></pre></div></section><footer class="tutorial-footer"><time>published: <!-- -->2018-03-01</time><ul class="post-tags-list"><li class="post-tag">access-control</li></ul></footer></article></main></main><footer class="footer"><ul class="external-links"><li class="link"><a class="nav-link" href="https://github.com/davidruvolo51/shinytutorials" aria-label="github.com/davidruvolo51"><svg aria-hidden="true" height="30" width="30" role="img" viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg>View on GitHub</a></li><li class="link"><a class="nav-link" href="https://www.twitter.com/dcruvolo" aria-label="twitter.com/dcruvolo"><svg aria-hidden="true" height="30" width="30" role="img" viewBox="0 0 24 24"><path d="M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z"></path></svg>Follow me on twitter</a></li></ul></footer></div></div><script>
  window.excludeGAPaths=[/^(?:\/preview\/(?:(?!(?:\/|^)\.).)*?)$/,/^(?:\/do\-not\-track\/me\/too\/)$/];
  function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='UA-76117337-11',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
  if(!(navigator.doNotTrack == "1" || window.doNotTrack == "1")) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-76117337-11', 'auto', {});
      ga('set', 'anonymizeIp', true);
      
      
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-components-tutorials-js","jsonName":"login-screen-9f3","path":"/login-screen/"};window.dataPath="652/path---login-screen-9-f-3-a2e-XqxJY4jD2XTuyRmrILwH9gpWYQ";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-7ae387d919581d6e6c2f.js"],"component---src-components-tutorials-js":["/component---src-components-tutorials-js-88f7251891992411e482.js"],"component---src-pages-404-js":["/component---src-pages-404-js-375f5e11d46d4654e393.js"],"component---src-pages-index-js":["/component---src-pages-index-js-f5fdbdb8afdd279e007e.js"],"pages-manifest":["/pages-manifest-5297f6aa7ec3c0efbb6d.js"]};/*]]>*/</script><script src="/shinytutorials/component---src-components-tutorials-js-88f7251891992411e482.js" async=""></script><script src="/shinytutorials/styles-fa947043799cbb3b0c3c.js" async=""></script><script src="/shinytutorials/app-7ae387d919581d6e6c2f.js" async=""></script><script src="/shinytutorials/webpack-runtime-17836ce2a8e48fa1bfc1.js" async=""></script></body></html>